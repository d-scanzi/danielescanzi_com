<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>~/Daniele-Scanzi - A Paper a day</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">~/Daniele-Scanzi</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../projects/projects_intro.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../exploring/exploring_intro.html" rel="" target="">
 <span class="menu-text">Exploring</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../educating/educating_intro.html" rel="" target="">
 <span class="menu-text">Educating</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Posts</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#watson-pelli-1983" id="toc-watson-pelli-1983" class="nav-link active" data-scroll-target="#watson-pelli-1983">2024-07-11: Watson &amp; Pelli, 1983</a>
  <ul class="collapse">
  <li><a href="#holidays" id="toc-holidays" class="nav-link" data-scroll-target="#holidays">HOLIDAYS</a></li>
  </ul></li>
  <li><a href="#shin-et-al.-2017" id="toc-shin-et-al.-2017" class="nav-link" data-scroll-target="#shin-et-al.-2017">2024-13-06:Shin et al., 2017</a></li>
  <li><a href="#voytek-knight-2015" id="toc-voytek-knight-2015" class="nav-link" data-scroll-target="#voytek-knight-2015">2024-12-06: Voytek &amp; Knight, 2015</a></li>
  <li><a href="#yuasa-et-al.-2023" id="toc-yuasa-et-al.-2023" class="nav-link" data-scroll-target="#yuasa-et-al.-2023">2024-11-06: Yuasa et al., 2023</a></li>
  <li><a href="#van-der-werf-et-al.-2022" id="toc-van-der-werf-et-al.-2022" class="nav-link" data-scroll-target="#van-der-werf-et-al.-2022">2024-10-06: van der Werf et al., 2022</a></li>
  <li><a href="#wei-et-al.-2022" id="toc-wei-et-al.-2022" class="nav-link" data-scroll-target="#wei-et-al.-2022">2024-08-06: Wei et al., 2022</a></li>
  <li><a href="#boncompte-et-al.-2016" id="toc-boncompte-et-al.-2016" class="nav-link" data-scroll-target="#boncompte-et-al.-2016">2024-07-06: Boncompte et al., 2016</a></li>
  <li><a href="#liu-et-al.-2023" id="toc-liu-et-al.-2023" class="nav-link" data-scroll-target="#liu-et-al.-2023">2024-06-06: Liu et al., 2023</a></li>
  <li><a href="#gao-et-al.-2020" id="toc-gao-et-al.-2020" class="nav-link" data-scroll-target="#gao-et-al.-2020">2024-06-05: Gao et al., 2020</a></li>
  <li><a href="#keesey-nichols-1967" id="toc-keesey-nichols-1967" class="nav-link" data-scroll-target="#keesey-nichols-1967">2024-06-04: Keesey &amp; Nichols, 1967</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A Paper a day</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="watson-pelli-1983" class="level2">
<h2 class="anchored" data-anchor-id="watson-pelli-1983">2024-07-11: <a href="https://link.springer.com/content/pdf/10.3758/BF03202828.pdf">Watson &amp; Pelli, 1983</a></h2>
<p>Detection or discrimination tasks often require the estimation of each participant’s psychometric function to control behavioral performance to a specific threshold. However, obtaining a psychometric function usually requires a high number of trials, as the participant’s performance needs to be tested multiple times at a variety of stimulus levels. A way around this is to use an adaptive procedure that incorporates the knowledge acquired from previous trials, as well as the experimenters’ knowledge, to estimate the psychometric function’s parameters more quickly. Here, Watson and Pelli introduce an adaptive staircase (QUEST), which uses a Bayesian framework to speed up the titration process while retaining high estimation accuracy.</p>
<section id="holidays" class="level3">
<h3 class="anchored" data-anchor-id="holidays">HOLIDAYS</h3>
</section>
</section>
<section id="shin-et-al.-2017" class="level2">
<h2 class="anchored" data-anchor-id="shin-et-al.-2017">2024-13-06:<a href="https://elifesciences.org/articles/29086">Shin et al., 2017</a></h2>
<p>Pre-stimulus beta power has been associated with detection and attention in tactile tasks. Generally, increased sustained pre-stimulus power is negatively correlated with detection and attention. However, the authors show that the observed pre-stimulus power likely does not represent sustained activity. When single-trial time-frequency activity is analyzed, short bursts of beta activity (beta events) are visible in the pre-stimulus window. These beta events are not time-locked to a stimulus and do not appear to be generated by a rhythmic generator. Thus, their number and timing vary across trials. Because of this, averaging trials in standard analyses creates the illusion of a sustained beta rhythm. By analyzing two MEG human datasets and one intracranial recording in mice, the authors show that the number and timing of the last beta event are negatively correlated with detection and attention: a higher number of events corresponds to lower detection, and the closer the last beta event is to stimulus onset, the lower the detection and attention. Importantly, the number of events and the timing of the last event independently affect behavior.</p>
</section>
<section id="voytek-knight-2015" class="level2">
<h2 class="anchored" data-anchor-id="voytek-knight-2015">2024-12-06: <a href="https://www.sciencedirect.com/science/article/pii/S0006322315003546">Voytek &amp; Knight, 2015</a></h2>
<p>One of the major features of EEG activity is the 1/f slope visible in the power spectrum of the data. Although attention is predominantly given to the oscillatory activity visible in the spectrum (i.e., peaks), the 1/f slope might contain relevant information reflecting the excitability state and connectivity of neuronal populations. Here, the authors start by considering the complex coupling between extracellular local field potentials (LFP) and firing rates. Specifically, neuronal spiking is modulated by oscillatory LFPs. LFPs modify the membrane potentials of postsynaptic neurons, rendering them closer or further from firing (essentially, LFPs modify the likelihood of a postsynaptic potential inducing an action potential). The authors propose that this micro-scale mechanism could be reflected at the meso-scale by phase-amplitude coupling, where the amplitude of a signal is modulated by the phase of the oscillatory activity the signal is embedded in. Moreover, they argue that the effects of LFP activity are reflected in the 1/f slope. When the LFP activity is “stable” and oscillatory, neurons are more likely to go through an excitability phase, where action potentials can be triggered. In this context, a stimulus could trigger a cascade of action potentials in a neuronal population. If this happens, many neurons in the population would quickly fire and enter a refractory period. As this activity is synchronized by the LFP oscillations, the net refractory period in the population would be short, resulting in a steep 1/f slope (the aperiodic activity seems to reflect local population excitation). Conversely, a weak but prolonged stimulus would induce a higher degree of noise in the population field, as neurons would not be synchronized, thus inducing a non-coordinated firing pattern. The result is a net prolonged state of inhibition of the population, which is reflected as a flattened spectrum. To conclude, a flattened power spectrum could be a sign of decreased coherence across cortical areas, as local firing patterns are not synchronized by stable oscillatory LFP activity. Note, however, that excessive coherence can be problematic too, as it could create a situation where neuronal firing is locked to the LFP, resulting in a feedback process that perpetuates itself. Therefore, a certain amount of “noise,” defined as firing decoupled from the background carrier frequency, is needed for proper communication across brain areas.</p>
</section>
<section id="yuasa-et-al.-2023" class="level2">
<h2 class="anchored" data-anchor-id="yuasa-et-al.-2023">2024-11-06: <a href="https://elifesciences.org/reviewed-preprints/90387v1">Yuasa et al., 2023</a></h2>
<p>Presenting visual stimuli usually induces a decrease in occipital [[alpha power]], which is believed to represent increased cortical excitation. However, both oscillatory and broadband aperiodic activities are affected by the stimuli. Changes in periodic activity power could be masked by changes in aperiodic power (e.g., alpha power might increase, but broadband aperiodic activity might decrease, creating a false null effect). To address this, the authors used a retinotopic mapping paradigm (checkerboards moving across space) with ECoG. They separated the periodic and aperiodic components and observed that stimulus presentation decreases alpha power at electrodes over visual cortical areas processing the stimulus. This suggests a retinotopic distribution of alpha power. Further analysis with pRF showed that both components have similar pRF centers in the parafovea, but the pRF for alpha power is larger than for aperiodic activity. This indicates that stimuli reduce alpha power even when presented peripherally, increasing cortical excitability and tuning the cortex to process visual information. Importantly, the stimulus drives [[alpha power]] changes, not the other way around (bottom-up, not top-down).</p>
</section>
<section id="van-der-werf-et-al.-2022" class="level2">
<h2 class="anchored" data-anchor-id="van-der-werf-et-al.-2022">2024-10-06: <a href="file:///home/daniele/Zotero/storage/EXGE8JYC/ejn.html">van der Werf et al., 2022</a></h2>
<p>Electrophysiological studies have observed that the deployment of attention is a rhythmic process, often associated with neuronal oscillatory activity around 8 Hz. These observations have been expanded with behavioural analyses to determine whether the detection of a target follows an oscillatory pattern. Here, the authors build on previous studies by estimating behavioural oscillations and relating hit rates to the length of the cue-target interval. Specifically, they compute the hit rate in a 50 ms sliding window to obtain a time-resolved hit-rate measure. The frequency spectrum of the time-resolved hit rate is then computed to investigate whether the behavioural representation of attention deployment is dominated by specific frequencies. However, in this study, they do not observe any effect of frequency on target detection (i.e., detection is not more common at specific delays from cue onset). Similarly, they did not find any oscillatory effects at non-cued locations.</p>
<hr>
</section>
<section id="wei-et-al.-2022" class="level2">
<h2 class="anchored" data-anchor-id="wei-et-al.-2022">2024-08-06: <a href="https://link.springer.com/article/10.1007/s11571-022-09862-7">Wei et al., 2022</a></h2>
<p>This study employed an uncued lateralised detection task to investigate whether the alpha desynchronisation usually observed in these types of tasks is associated with frontal activity. The assumption is that, although occipital alpha power might play a role in detecting visual stimuli, it could be modulated by frontal activity. They observed that occipital alpha power in the 200ms preceding the stimulus correlates with hits and misses (low power -&gt; hit; high power -&gt; miss). Some results pointed towards a frontal-to-occipital sweep of alpha power correlated with hits and misses, moving from a time window further away from the stimulus towards stimulus presentation (e.g., parieto-central activity correlates with hits and misses around 500ms before stimulus onset). However, these correlations were not significant or approached significance after FDR correction, making this trend difficult to interpret. Nevertheless, they also observed synchronisation between frontal theta activity and occipital alpha power, with this synchronisation being stronger for high alpha power compared to low power. Moreover, occipital power could be predicted by frontal theta power.</p>
</section>
<section id="boncompte-et-al.-2016" class="level2">
<h2 class="anchored" data-anchor-id="boncompte-et-al.-2016">2024-07-06: <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0160347">Boncompte et al., 2016</a></h2>
<p>Studies on the lateralisation of alpha power commonly use cued designs. However, hypotheses have been made regarding the possibility of this lateralisation being generated non-stochastically. To address this, the authors employed a lateralised design (target appears either in the left or right hemifield) without using a cue. They compared alpha power between seen trials (participant saw the target) and unseen trials (participant missed the target). They observed that, although the overall occipital alpha power preceding target onset remains constant between seen and unseen trials, there is significant lateralisation that distinguishes the two conditions. Specifically, there is higher lateralisation in seen trials (higher power in the ipsilateral hemisphere) compared to unseen trials. The crucial aspect here is that this lateralisation is endogenously driven, as no cues were presented.</p>
</section>
<section id="liu-et-al.-2023" class="level2">
<h2 class="anchored" data-anchor-id="liu-et-al.-2023">2024-06-06: <a href="https://www.sciencedirect.com/science/article/pii/S0301008223000333?via%3Dihub">Liu et al., 2023</a></h2>
<p>Probably one of the most reliable observations in attentional studies (and working memory) is the lateralization of alpha power — a modulation in power so that there is lower power in the hemisphere contralateral to the hemifield where attention was deployed. Here, they show that one potentially important confound is eye movements, specifically microsaccades. These small deviations from fixations create a lateralization of occipital alpha power even in the absence of a task (here they analyzed the retention period of a working memory paradigm), meaning that microsaccades alone are able to drive changes in power. Importantly, they observed that the direction of the alpha power lateralization is such that power increases ipsilateral to the direction of the microsaccades, while no effects were observable in the contralateral hemisphere. Moreover, the effect was greater at P07/P08, but only weak at central electrodes. These observations pose questions about how to properly investigate the relationship between alpha power and attention in lateralized presentations.</p>
</section>
<section id="gao-et-al.-2020" class="level2">
<h2 class="anchored" data-anchor-id="gao-et-al.-2020">2024-06-05: <a href="https://elifesciences.org/articles/61277">Gao et al., 2020</a></h2>
<p>In this paper, Gao and colleagues investigate the <em>time-scale</em> property of neurons. Specifically, neurons across the cortex must be able to maintain and process information at different time scales: from brief moments necessary to react to a stimulus, to seconds, minutes, and even years, as in working memory and memory. The time scale of different cortical areas was estimated from the PSD of ECoG recordings, exploiting the fact that the time-scale factor can be calculated from the <em>knee frequency</em> in the power spectrum. They then correlated the time-scale values with measures of myelination, cortical thickness, gene expression, and working memory performance. They observed that time scales are correlated with all these measures, suggesting that the micro- and macro-scale structural and functional organization of the brain allows for the emergence of an organized time-scale structure. Indeed, sensorimotor and visual areas showed faster time scales, while association regions showed longer time scales, reflecting the different types of information processing they perform. Note that this hierarchy has been observed in both humans and macaques. This time scale also varies as a function of cognitive activity (e.g., time scale increases with increased cognitive load) and aging (on average, the time scale decreases).</p>
</section>
<section id="keesey-nichols-1967" class="level2">
<h2 class="anchored" data-anchor-id="keesey-nichols-1967">2024-06-04: <a href="https://www.sciencedirect.com/science/article/pii/0042698967900077?via%3Dihub">Keesey &amp; Nichols, 1967</a></h2>
<p>The authors investigate the relationship between the time dynamics of individual alpha power and the fading out of stabilized fixated images. They used a collimator system mounted on a contact lens to stabilize a patch of light on the participant’s retina while recording EEG. They observed that alpha power increases over a 1-second period before the participant reports the subjective disappearing of the image from conscious perception. Alpha power decreases after the participant reports the reappearing of the stimulus (though the change in alpha is more variable in time). They also observed that reappearance of the image was preceded by large eye movements or blinks in 40% of the trials. In a control condition where the image was not stabilized and the disappearance of the stimulus was mimicked by either defocusing the stimulus or lowering its luminance to zero, they observed that alpha powerchanges only after the participant reports the change in subjective perception. Putting it all together, it seems that alpha power might control the perception of luminous stimuli when the visual system cannot rely on eye movements to update the retinal image. Here, the authors suggest the possibility that in this condition, alpha replaces the missing signal associated with the visual input.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>